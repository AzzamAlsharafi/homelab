define(["@opencloud-eu/web-client","@opencloud-eu/web-pkg","vue","vue3-gettext"],function(jt,Oe,L,$r){"use strict";const Kt={af:{},ar:{},bg:{},bs:{},cs:{},de:{"Draw.io document":"Draw.io Datei","Draw.io editor":"Draw.io Editor"},el:{},es:{},et:{},fr:{"Draw.io document":"Document Draw.io","Draw.io editor":"Éditeur Draw.io"},gl:{},he:{},id:{},hr:{},it:{"Draw.io document":"Documento Draw.io","Draw.io editor":"Editor Draw.io"},ja:{},nl:{"Draw.io document":"Draw.io document","Draw.io editor":"Draw.io editor"},pl:{"Draw.io document":"Dokument Draw.io","Draw.io editor":"Edytor Draw.io"},pt:{},ka:{},ko:{"Draw.io document":"Draw.io 문서","Draw.io editor":"Draw.io 편집기"},ro:{},ru:{"Draw.io document":"Документ Draw.io","Draw.io editor":"Редактор Draw.io"},si:{},sk:{},sq:{},sv:{},sr:{},ta:{},tr:{},ug:{},uk:{"Draw.io document":"Діаграма Draw.io","Draw.io editor":"Редактор Draw.io"},zh:{"Draw.io document":"Draw.io 文档","Draw.io editor":"Draw.io 编辑器"}};var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vt(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var f=t.default;if(typeof f=="function"){var l=function u(){var d=!1;try{d=this instanceof u}catch{}return d?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};l.prototype=f.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var d=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(l,u,d.get?d:{enumerable:!0,get:function(){return t[u]}})}),l}var Ie,Cr;function ve(){return Cr||(Cr=1,Ie=TypeError),Ie}const Jt=Vt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var qe,Nr;function Pe(){if(Nr)return qe;Nr=1;var t=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l=t&&f&&typeof f.get=="function"?f.get:null,u=t&&Map.prototype.forEach,d=typeof Set=="function"&&Set.prototype,E=Object.getOwnPropertyDescriptor&&d?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,R=d&&E&&typeof E.get=="function"?E.get:null,v=d&&Set.prototype.forEach,O=typeof WeakMap=="function"&&WeakMap.prototype,m=O?WeakMap.prototype.has:null,p=typeof WeakSet=="function"&&WeakSet.prototype,y=p?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype,i=g?WeakRef.prototype.deref:null,c=Boolean.prototype.valueOf,S=Object.prototype.toString,n=Function.prototype.toString,a=String.prototype.match,o=String.prototype.slice,h=String.prototype.replace,s=String.prototype.toUpperCase,w=String.prototype.toLowerCase,b=RegExp.prototype.test,A=Array.prototype.concat,D=Array.prototype.join,$=Array.prototype.slice,x=Math.floor,M=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,U=typeof Symbol=="function"&&typeof Symbol.iterator=="object",K=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===U||!0)?Symbol.toStringTag:null,re=Object.prototype.propertyIsEnumerable,te=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function I(e,r){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||b.call(/e/,r))return r;var F=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var N=e<0?-x(-e):x(e);if(N!==e){var T=String(N),_=o.call(r,T.length+1);return h.call(T,F,"$&_")+"."+h.call(h.call(_,/([0-9]{3})/g,"$&_"),/_$/,"")}}return h.call(r,F,"$&_")}var Q=Jt,ne=Q.custom,ye=H(ne)?ne:null,oe={__proto__:null,double:'"',single:"'"},ie={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};qe=function e(r,F,N,T){var _=F||{};if(j(_,"quoteStyle")&&!j(oe,_.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(_,"maxStringLength")&&(typeof _.maxStringLength=="number"?_.maxStringLength<0&&_.maxStringLength!==1/0:_.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pe=j(_,"customInspect")?_.customInspect:!0;if(typeof pe!="boolean"&&pe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(_,"indent")&&_.indent!==null&&_.indent!=="	"&&!(parseInt(_.indent,10)===_.indent&&_.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(j(_,"numericSeparator")&&typeof _.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var de=_.numericSeparator;if(typeof r>"u")return"undefined";if(r===null)return"null";if(typeof r=="boolean")return r?"true":"false";if(typeof r=="string")return Nt(r,_);if(typeof r=="number"){if(r===0)return 1/0/r>0?"0":"-0";var V=String(r);return de?I(r,V):V}if(typeof r=="bigint"){var se=String(r)+"n";return de?I(r,se):se}var Rr=typeof _.depth>"u"?5:_.depth;if(typeof N>"u"&&(N=0),N>=Rr&&Rr>0&&typeof r=="object")return fe(r)?"[Array]":"[Object]";var Se=Ln(_,N);if(typeof T>"u")T=[];else if(ce(T,r)>=0)return"[Circular]";function ee(be,_e,Wn){if(_e&&(T=$.call(T),T.push(_e)),Wn){var zt={depth:_.depth};return j(_,"quoteStyle")&&(zt.quoteStyle=_.quoteStyle),e(be,zt,N+1,T)}return e(be,_,N+1,T)}if(typeof r=="function"&&!k(r)){var Bt=he(r),Lt=De(r,ee);return"[Function"+(Bt?": "+Bt:" (anonymous)")+"]"+(Lt.length>0?" { "+D.call(Lt,", ")+" }":"")}if(H(r)){var Ut=U?h.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):G.call(r);return typeof r=="object"&&!U?Ae(Ut):Ut}if(Nn(r)){for(var Ee="<"+w.call(String(r.nodeName)),Dr=r.attributes||[],xe=0;xe<Dr.length;xe++)Ee+=" "+Dr[xe].name+"="+ue(ae(Dr[xe].value),"double",_);return Ee+=">",r.childNodes&&r.childNodes.length&&(Ee+="..."),Ee+="</"+w.call(String(r.nodeName))+">",Ee}if(fe(r)){if(r.length===0)return"[]";var xr=De(r,ee);return Se&&!Bn(xr)?"["+Pr(xr,Se)+"]":"[ "+D.call(xr,", ")+" ]"}if(q(r)){var _r=De(r,ee);return!("cause"in Error.prototype)&&"cause"in r&&!re.call(r,"cause")?"{ ["+String(r)+"] "+D.call(A.call("[cause]: "+ee(r.cause),_r),", ")+" }":_r.length===0?"["+String(r)+"]":"{ ["+String(r)+"] "+D.call(_r,", ")+" }"}if(typeof r=="object"&&pe){if(ye&&typeof r[ye]=="function"&&Q)return Q(r,{depth:Rr-N});if(pe!=="symbol"&&typeof r.inspect=="function")return r.inspect()}if(Z(r)){var Wt=[];return u&&u.call(r,function(be,_e){Wt.push(ee(_e,r,!0)+" => "+ee(be,r))}),Tt("Map",l.call(r),Wt,Se)}if(we(r)){var kt=[];return v&&v.call(r,function(be){kt.push(ee(be,r))}),Tt("Set",R.call(r),kt,Se)}if(me(r))return Or("WeakMap");if(Cn(r))return Or("WeakSet");if(ge(r))return Or("WeakRef");if(C(r))return Ae(ee(Number(r)));if(Y(r))return Ae(ee(M.call(r)));if(W(r))return Ae(c.call(r));if(B(r))return Ae(ee(String(r)));if(typeof window<"u"&&r===window)return"{ [object Window] }";if(typeof globalThis<"u"&&r===globalThis||typeof Mr<"u"&&r===Mr)return"{ [object globalThis] }";if(!le(r)&&!k(r)){var Ir=De(r,ee),Gt=te?te(r)===Object.prototype:r instanceof Object||r.constructor===Object,qr=r instanceof Object?"":"null prototype",Ht=!Gt&&K&&Object(r)===r&&K in r?o.call(X(r),8,-1):qr?"Object":"",Un=Gt||typeof r.constructor!="function"?"":r.constructor.name?r.constructor.name+" ":"",Fr=Un+(Ht||qr?"["+D.call(A.call([],Ht||[],qr||[]),": ")+"] ":"");return Ir.length===0?Fr+"{}":Se?Fr+"{"+Pr(Ir,Se)+"}":Fr+"{ "+D.call(Ir,", ")+" }"}return String(r)};function ue(e,r,F){var N=F.quoteStyle||r,T=oe[N];return T+e+T}function ae(e){return h.call(String(e),/"/g,"&quot;")}function J(e){return!K||!(typeof e=="object"&&(K in e||typeof e[K]<"u"))}function fe(e){return X(e)==="[object Array]"&&J(e)}function le(e){return X(e)==="[object Date]"&&J(e)}function k(e){return X(e)==="[object RegExp]"&&J(e)}function q(e){return X(e)==="[object Error]"&&J(e)}function B(e){return X(e)==="[object String]"&&J(e)}function C(e){return X(e)==="[object Number]"&&J(e)}function W(e){return X(e)==="[object Boolean]"&&J(e)}function H(e){if(U)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!G)return!1;try{return G.call(e),!0}catch{}return!1}function Y(e){if(!e||typeof e!="object"||!M)return!1;try{return M.call(e),!0}catch{}return!1}var z=Object.prototype.hasOwnProperty||function(e){return e in this};function j(e,r){return z.call(e,r)}function X(e){return S.call(e)}function he(e){if(e.name)return e.name;var r=a.call(n.call(e),/^function\s*([\w$]+)/);return r?r[1]:null}function ce(e,r){if(e.indexOf)return e.indexOf(r);for(var F=0,N=e.length;F<N;F++)if(e[F]===r)return F;return-1}function Z(e){if(!l||!e||typeof e!="object")return!1;try{l.call(e);try{R.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function me(e){if(!m||!e||typeof e!="object")return!1;try{m.call(e,m);try{y.call(e,y)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function ge(e){if(!i||!e||typeof e!="object")return!1;try{return i.call(e),!0}catch{}return!1}function we(e){if(!R||!e||typeof e!="object")return!1;try{R.call(e);try{l.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Cn(e){if(!y||!e||typeof e!="object")return!1;try{y.call(e,y);try{m.call(e,m)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Nn(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Nt(e,r){if(e.length>r.maxStringLength){var F=e.length-r.maxStringLength,N="... "+F+" more character"+(F>1?"s":"");return Nt(o.call(e,0,r.maxStringLength),r)+N}var T=ie[r.quoteStyle||"single"];T.lastIndex=0;var _=h.call(h.call(e,T,"\\$1"),/[\x00-\x1f]/g,Tn);return ue(_,"single",r)}function Tn(e){var r=e.charCodeAt(0),F={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return F?"\\"+F:"\\x"+(r<16?"0":"")+s.call(r.toString(16))}function Ae(e){return"Object("+e+")"}function Or(e){return e+" { ? }"}function Tt(e,r,F,N){var T=N?Pr(F,N):D.call(F,", ");return e+" ("+r+") {"+T+"}"}function Bn(e){for(var r=0;r<e.length;r++)if(ce(e[r],`
`)>=0)return!1;return!0}function Ln(e,r){var F;if(e.indent==="	")F="	";else if(typeof e.indent=="number"&&e.indent>0)F=D.call(Array(e.indent+1)," ");else return null;return{base:F,prev:D.call(Array(r+1),F)}}function Pr(e,r){if(e.length===0)return"";var F=`
`+r.prev+r.base;return F+D.call(e,","+F)+`
`+r.prev}function De(e,r){var F=fe(e),N=[];if(F){N.length=e.length;for(var T=0;T<e.length;T++)N[T]=j(e,T)?r(e[T],e):""}var _=typeof P=="function"?P(e):[],pe;if(U){pe={};for(var de=0;de<_.length;de++)pe["$"+_[de]]=_[de]}for(var V in e)j(e,V)&&(F&&String(Number(V))===V&&V<e.length||U&&pe["$"+V]instanceof Symbol||(b.call(/[^\w$]/,V)?N.push(r(V,e)+": "+r(e[V],e)):N.push(V+": "+r(e[V],e))));if(typeof P=="function")for(var se=0;se<_.length;se++)re.call(e,_[se])&&N.push("["+r(_[se])+"]: "+r(e[_[se]],e));return N}return qe}var Fe,Tr;function Yt(){if(Tr)return Fe;Tr=1;var t=Pe(),f=ve(),l=function(v,O,m){for(var p=v,y;(y=p.next)!=null;p=y)if(y.key===O)return p.next=y.next,m||(y.next=v.next,v.next=y),y},u=function(v,O){if(v){var m=l(v,O);return m&&m.value}},d=function(v,O,m){var p=l(v,O);p?p.value=m:v.next={key:O,next:v.next,value:m}},E=function(v,O){return v?!!l(v,O):!1},R=function(v,O){if(v)return l(v,O,!0)};return Fe=function(){var O,m={assert:function(p){if(!m.has(p))throw new f("Side channel does not contain "+t(p))},delete:function(p){var y=O&&O.next,g=R(O,p);return g&&y&&y===g&&(O=void 0),!!g},get:function(p){return u(O,p)},has:function(p){return E(O,p)},set:function(p,y){O||(O={next:void 0}),d(O,p,y)}};return m},Fe}var $e,Br;function Lr(){return Br||(Br=1,$e=Object),$e}var Me,Ur;function Xt(){return Ur||(Ur=1,Me=Error),Me}var Ce,Wr;function Zt(){return Wr||(Wr=1,Ce=EvalError),Ce}var Ne,kr;function en(){return kr||(kr=1,Ne=RangeError),Ne}var Te,Gr;function rn(){return Gr||(Gr=1,Te=ReferenceError),Te}var Be,Hr;function tn(){return Hr||(Hr=1,Be=SyntaxError),Be}var Le,zr;function nn(){return zr||(zr=1,Le=URIError),Le}var Ue,jr;function an(){return jr||(jr=1,Ue=Math.abs),Ue}var We,Kr;function on(){return Kr||(Kr=1,We=Math.floor),We}var ke,Qr;function un(){return Qr||(Qr=1,ke=Math.max),ke}var Ge,Vr;function fn(){return Vr||(Vr=1,Ge=Math.min),Ge}var He,Jr;function ln(){return Jr||(Jr=1,He=Math.pow),He}var ze,Yr;function cn(){return Yr||(Yr=1,ze=Math.round),ze}var je,Xr;function pn(){return Xr||(Xr=1,je=Number.isNaN||function(f){return f!==f}),je}var Ke,Zr;function sn(){if(Zr)return Ke;Zr=1;var t=pn();return Ke=function(l){return t(l)||l===0?l:l<0?-1:1},Ke}var Qe,et;function yn(){return et||(et=1,Qe=Object.getOwnPropertyDescriptor),Qe}var Ve,rt;function tt(){if(rt)return Ve;rt=1;var t=yn();if(t)try{t([],"length")}catch{t=null}return Ve=t,Ve}var Je,nt;function dn(){if(nt)return Je;nt=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Je=t,Je}var Ye,at;function vn(){return at||(at=1,Ye=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},l=Symbol("test"),u=Object(l);if(typeof l=="string"||Object.prototype.toString.call(l)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var d=42;f[l]=d;for(var E in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var R=Object.getOwnPropertySymbols(f);if(R.length!==1||R[0]!==l||!Object.prototype.propertyIsEnumerable.call(f,l))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var v=Object.getOwnPropertyDescriptor(f,l);if(v.value!==d||v.enumerable!==!0)return!1}return!0}),Ye}var Xe,ot;function hn(){if(ot)return Xe;ot=1;var t=typeof Symbol<"u"&&Symbol,f=vn();return Xe=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()},Xe}var Ze,it;function ut(){return it||(it=1,Ze=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ze}var er,ft;function lt(){if(ft)return er;ft=1;var t=Lr();return er=t.getPrototypeOf||null,er}var rr,ct;function mn(){if(ct)return rr;ct=1;var t="Function.prototype.bind called on incompatible ",f=Object.prototype.toString,l=Math.max,u="[object Function]",d=function(O,m){for(var p=[],y=0;y<O.length;y+=1)p[y]=O[y];for(var g=0;g<m.length;g+=1)p[g+O.length]=m[g];return p},E=function(O,m){for(var p=[],y=m,g=0;y<O.length;y+=1,g+=1)p[g]=O[y];return p},R=function(v,O){for(var m="",p=0;p<v.length;p+=1)m+=v[p],p+1<v.length&&(m+=O);return m};return rr=function(O){var m=this;if(typeof m!="function"||f.apply(m)!==u)throw new TypeError(t+m);for(var p=E(arguments,1),y,g=function(){if(this instanceof y){var a=m.apply(this,d(p,arguments));return Object(a)===a?a:this}return m.apply(O,d(p,arguments))},i=l(0,m.length-p.length),c=[],S=0;S<i;S++)c[S]="$"+S;if(y=Function("binder","return function ("+R(c,",")+"){ return binder.apply(this,arguments); }")(g),m.prototype){var n=function(){};n.prototype=m.prototype,y.prototype=new n,n.prototype=null}return y},rr}var tr,pt;function Re(){if(pt)return tr;pt=1;var t=mn();return tr=Function.prototype.bind||t,tr}var nr,st;function ar(){return st||(st=1,nr=Function.prototype.call),nr}var or,yt;function dt(){return yt||(yt=1,or=Function.prototype.apply),or}var ir,vt;function gn(){return vt||(vt=1,ir=typeof Reflect<"u"&&Reflect&&Reflect.apply),ir}var ur,ht;function wn(){if(ht)return ur;ht=1;var t=Re(),f=dt(),l=ar(),u=gn();return ur=u||t.call(l,f),ur}var fr,mt;function gt(){if(mt)return fr;mt=1;var t=Re(),f=ve(),l=ar(),u=wn();return fr=function(E){if(E.length<1||typeof E[0]!="function")throw new f("a function is required");return u(t,l,E)},fr}var lr,wt;function Sn(){if(wt)return lr;wt=1;var t=gt(),f=tt(),l;try{l=[].__proto__===Array.prototype}catch(R){if(!R||typeof R!="object"||!("code"in R)||R.code!=="ERR_PROTO_ACCESS")throw R}var u=!!l&&f&&f(Object.prototype,"__proto__"),d=Object,E=d.getPrototypeOf;return lr=u&&typeof u.get=="function"?t([u.get]):typeof E=="function"?function(v){return E(v==null?v:d(v))}:!1,lr}var cr,St;function bn(){if(St)return cr;St=1;var t=ut(),f=lt(),l=Sn();return cr=t?function(d){return t(d)}:f?function(d){if(!d||typeof d!="object"&&typeof d!="function")throw new TypeError("getProto: not an object");return f(d)}:l?function(d){return l(d)}:null,cr}var pr,bt;function An(){if(bt)return pr;bt=1;var t=Function.prototype.call,f=Object.prototype.hasOwnProperty,l=Re();return pr=l.call(t,f),pr}var sr,At;function yr(){if(At)return sr;At=1;var t,f=Lr(),l=Xt(),u=Zt(),d=en(),E=rn(),R=tn(),v=ve(),O=nn(),m=an(),p=on(),y=un(),g=fn(),i=ln(),c=cn(),S=sn(),n=Function,a=function(k){try{return n('"use strict"; return ('+k+").constructor;")()}catch{}},o=tt(),h=dn(),s=function(){throw new v},w=o?function(){try{return arguments.callee,s}catch{try{return o(arguments,"callee").get}catch{return s}}}():s,b=hn()(),A=bn(),D=lt(),$=ut(),x=dt(),M=ar(),P={},G=typeof Uint8Array>"u"||!A?t:A(Uint8Array),U={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":b&&A?A([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":l,"%eval%":eval,"%EvalError%":u,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&A?A(A([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!A?t:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":f,"%Object.getOwnPropertyDescriptor%":o,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":d,"%ReferenceError%":E,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!A?t:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&A?A(""[Symbol.iterator]()):t,"%Symbol%":b?Symbol:t,"%SyntaxError%":R,"%ThrowTypeError%":w,"%TypedArray%":G,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":O,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":x,"%Object.defineProperty%":h,"%Object.getPrototypeOf%":D,"%Math.abs%":m,"%Math.floor%":p,"%Math.max%":y,"%Math.min%":g,"%Math.pow%":i,"%Math.round%":c,"%Math.sign%":S,"%Reflect.getPrototypeOf%":$};if(A)try{null.error}catch(k){var K=A(A(k));U["%Error.prototype%"]=K}var re=function k(q){var B;if(q==="%AsyncFunction%")B=a("async function () {}");else if(q==="%GeneratorFunction%")B=a("function* () {}");else if(q==="%AsyncGeneratorFunction%")B=a("async function* () {}");else if(q==="%AsyncGenerator%"){var C=k("%AsyncGeneratorFunction%");C&&(B=C.prototype)}else if(q==="%AsyncIteratorPrototype%"){var W=k("%AsyncGenerator%");W&&A&&(B=A(W.prototype))}return U[q]=B,B},te={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=Re(),Q=An(),ne=I.call(M,Array.prototype.concat),ye=I.call(x,Array.prototype.splice),oe=I.call(M,String.prototype.replace),ie=I.call(M,String.prototype.slice),ue=I.call(M,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,J=/\\(\\)?/g,fe=function(q){var B=ie(q,0,1),C=ie(q,-1);if(B==="%"&&C!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(C==="%"&&B!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var W=[];return oe(q,ae,function(H,Y,z,j){W[W.length]=z?oe(j,J,"$1"):Y||H}),W},le=function(q,B){var C=q,W;if(Q(te,C)&&(W=te[C],C="%"+W[0]+"%"),Q(U,C)){var H=U[C];if(H===P&&(H=re(C)),typeof H>"u"&&!B)throw new v("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:W,name:C,value:H}}throw new R("intrinsic "+q+" does not exist!")};return sr=function(q,B){if(typeof q!="string"||q.length===0)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new v('"allowMissing" argument must be a boolean');if(ue(/^%?[^%]*%?$/,q)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var C=fe(q),W=C.length>0?C[0]:"",H=le("%"+W+"%",B),Y=H.name,z=H.value,j=!1,X=H.alias;X&&(W=X[0],ye(C,ne([0,1],X)));for(var he=1,ce=!0;he<C.length;he+=1){var Z=C[he],me=ie(Z,0,1),ge=ie(Z,-1);if((me==='"'||me==="'"||me==="`"||ge==='"'||ge==="'"||ge==="`")&&me!==ge)throw new R("property names with quotes must have matching quotes");if((Z==="constructor"||!ce)&&(j=!0),W+="."+Z,Y="%"+W+"%",Q(U,Y))z=U[Y];else if(z!=null){if(!(Z in z)){if(!B)throw new v("base intrinsic for "+q+" exists, but the property is not available.");return}if(o&&he+1>=C.length){var we=o(z,Z);ce=!!we,ce&&"get"in we&&!("originalValue"in we.get)?z=we.get:z=z[Z]}else ce=Q(z,Z),z=z[Z];ce&&!j&&(U[Y]=z)}}return z},sr}var dr,Et;function Ot(){if(Et)return dr;Et=1;var t=yr(),f=gt(),l=f([t("%String.prototype.indexOf%")]);return dr=function(d,E){var R=t(d,!!E);return typeof R=="function"&&l(d,".prototype.")>-1?f([R]):R},dr}var vr,Pt;function Rt(){if(Pt)return vr;Pt=1;var t=yr(),f=Ot(),l=Pe(),u=ve(),d=t("%Map%",!0),E=f("Map.prototype.get",!0),R=f("Map.prototype.set",!0),v=f("Map.prototype.has",!0),O=f("Map.prototype.delete",!0),m=f("Map.prototype.size",!0);return vr=!!d&&function(){var y,g={assert:function(i){if(!g.has(i))throw new u("Side channel does not contain "+l(i))},delete:function(i){if(y){var c=O(y,i);return m(y)===0&&(y=void 0),c}return!1},get:function(i){if(y)return E(y,i)},has:function(i){return y?v(y,i):!1},set:function(i,c){y||(y=new d),R(y,i,c)}};return g},vr}var hr,Dt;function En(){if(Dt)return hr;Dt=1;var t=yr(),f=Ot(),l=Pe(),u=Rt(),d=ve(),E=t("%WeakMap%",!0),R=f("WeakMap.prototype.get",!0),v=f("WeakMap.prototype.set",!0),O=f("WeakMap.prototype.has",!0),m=f("WeakMap.prototype.delete",!0);return hr=E?function(){var y,g,i={assert:function(c){if(!i.has(c))throw new d("Side channel does not contain "+l(c))},delete:function(c){if(E&&c&&(typeof c=="object"||typeof c=="function")){if(y)return m(y,c)}else if(u&&g)return g.delete(c);return!1},get:function(c){return E&&c&&(typeof c=="object"||typeof c=="function")&&y?R(y,c):g&&g.get(c)},has:function(c){return E&&c&&(typeof c=="object"||typeof c=="function")&&y?O(y,c):!!g&&g.has(c)},set:function(c,S){E&&c&&(typeof c=="object"||typeof c=="function")?(y||(y=new E),v(y,c,S)):u&&(g||(g=u()),g.set(c,S))}};return i}:u,hr}var mr,xt;function On(){if(xt)return mr;xt=1;var t=ve(),f=Pe(),l=Yt(),u=Rt(),d=En(),E=d||u||l;return mr=function(){var v,O={assert:function(m){if(!O.has(m))throw new t("Side channel does not contain "+f(m))},delete:function(m){return!!v&&v.delete(m)},get:function(m){return v&&v.get(m)},has:function(m){return!!v&&v.has(m)},set:function(m,p){v||(v=E()),v.set(m,p)}};return O},mr}var gr,_t;function wr(){if(_t)return gr;_t=1;var t=String.prototype.replace,f=/%20/g,l={RFC1738:"RFC1738",RFC3986:"RFC3986"};return gr={default:l.RFC3986,formatters:{RFC1738:function(u){return t.call(u,f,"+")},RFC3986:function(u){return String(u)}},RFC1738:l.RFC1738,RFC3986:l.RFC3986},gr}var Sr,It;function qt(){if(It)return Sr;It=1;var t=wr(),f=Object.prototype.hasOwnProperty,l=Array.isArray,u=function(){for(var n=[],a=0;a<256;++a)n.push("%"+((a<16?"0":"")+a.toString(16)).toUpperCase());return n}(),d=function(a){for(;a.length>1;){var o=a.pop(),h=o.obj[o.prop];if(l(h)){for(var s=[],w=0;w<h.length;++w)typeof h[w]<"u"&&s.push(h[w]);o.obj[o.prop]=s}}},E=function(a,o){for(var h=o&&o.plainObjects?{__proto__:null}:{},s=0;s<a.length;++s)typeof a[s]<"u"&&(h[s]=a[s]);return h},R=function n(a,o,h){if(!o)return a;if(typeof o!="object"&&typeof o!="function"){if(l(a))a.push(o);else if(a&&typeof a=="object")(h&&(h.plainObjects||h.allowPrototypes)||!f.call(Object.prototype,o))&&(a[o]=!0);else return[a,o];return a}if(!a||typeof a!="object")return[a].concat(o);var s=a;return l(a)&&!l(o)&&(s=E(a,h)),l(a)&&l(o)?(o.forEach(function(w,b){if(f.call(a,b)){var A=a[b];A&&typeof A=="object"&&w&&typeof w=="object"?a[b]=n(A,w,h):a.push(w)}else a[b]=w}),a):Object.keys(o).reduce(function(w,b){var A=o[b];return f.call(w,b)?w[b]=n(w[b],A,h):w[b]=A,w},s)},v=function(a,o){return Object.keys(o).reduce(function(h,s){return h[s]=o[s],h},a)},O=function(n,a,o){var h=n.replace(/\+/g," ");if(o==="iso-8859-1")return h.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(h)}catch{return h}},m=1024,p=function(a,o,h,s,w){if(a.length===0)return a;var b=a;if(typeof a=="symbol"?b=Symbol.prototype.toString.call(a):typeof a!="string"&&(b=String(a)),h==="iso-8859-1")return escape(b).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var A="",D=0;D<b.length;D+=m){for(var $=b.length>=m?b.slice(D,D+m):b,x=[],M=0;M<$.length;++M){var P=$.charCodeAt(M);if(P===45||P===46||P===95||P===126||P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122||w===t.RFC1738&&(P===40||P===41)){x[x.length]=$.charAt(M);continue}if(P<128){x[x.length]=u[P];continue}if(P<2048){x[x.length]=u[192|P>>6]+u[128|P&63];continue}if(P<55296||P>=57344){x[x.length]=u[224|P>>12]+u[128|P>>6&63]+u[128|P&63];continue}M+=1,P=65536+((P&1023)<<10|$.charCodeAt(M)&1023),x[x.length]=u[240|P>>18]+u[128|P>>12&63]+u[128|P>>6&63]+u[128|P&63]}A+=x.join("")}return A},y=function(a){for(var o=[{obj:{o:a},prop:"o"}],h=[],s=0;s<o.length;++s)for(var w=o[s],b=w.obj[w.prop],A=Object.keys(b),D=0;D<A.length;++D){var $=A[D],x=b[$];typeof x=="object"&&x!==null&&h.indexOf(x)===-1&&(o.push({obj:b,prop:$}),h.push(x))}return d(o),a},g=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},i=function(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))},c=function(a,o){return[].concat(a,o)},S=function(a,o){if(l(a)){for(var h=[],s=0;s<a.length;s+=1)h.push(o(a[s]));return h}return o(a)};return Sr={arrayToObject:E,assign:v,combine:c,compact:y,decode:O,encode:p,isBuffer:i,isRegExp:g,maybeMap:S,merge:R},Sr}var br,Ft;function Pn(){if(Ft)return br;Ft=1;var t=On(),f=qt(),l=wr(),u=Object.prototype.hasOwnProperty,d={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,a){return n+"["+a+"]"},repeat:function(n){return n}},E=Array.isArray,R=Array.prototype.push,v=function(S,n){R.apply(S,E(n)?n:[n])},O=Date.prototype.toISOString,m=l.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:f.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:l.formatters[m],indices:!1,serializeDate:function(n){return O.call(n)},skipNulls:!1,strictNullHandling:!1},y=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},g={},i=function S(n,a,o,h,s,w,b,A,D,$,x,M,P,G,U,K,re,te){for(var I=n,Q=te,ne=0,ye=!1;(Q=Q.get(g))!==void 0&&!ye;){var oe=Q.get(n);if(ne+=1,typeof oe<"u"){if(oe===ne)throw new RangeError("Cyclic object value");ye=!0}typeof Q.get(g)>"u"&&(ne=0)}if(typeof $=="function"?I=$(a,I):I instanceof Date?I=P(I):o==="comma"&&E(I)&&(I=f.maybeMap(I,function(Y){return Y instanceof Date?P(Y):Y})),I===null){if(w)return D&&!K?D(a,p.encoder,re,"key",G):a;I=""}if(y(I)||f.isBuffer(I)){if(D){var ie=K?a:D(a,p.encoder,re,"key",G);return[U(ie)+"="+U(D(I,p.encoder,re,"value",G))]}return[U(a)+"="+U(String(I))]}var ue=[];if(typeof I>"u")return ue;var ae;if(o==="comma"&&E(I))K&&D&&(I=f.maybeMap(I,D)),ae=[{value:I.length>0?I.join(",")||null:void 0}];else if(E($))ae=$;else{var J=Object.keys(I);ae=x?J.sort(x):J}var fe=A?String(a).replace(/\./g,"%2E"):String(a),le=h&&E(I)&&I.length===1?fe+"[]":fe;if(s&&E(I)&&I.length===0)return le+"[]";for(var k=0;k<ae.length;++k){var q=ae[k],B=typeof q=="object"&&q&&typeof q.value<"u"?q.value:I[q];if(!(b&&B===null)){var C=M&&A?String(q).replace(/\./g,"%2E"):String(q),W=E(I)?typeof o=="function"?o(le,C):le:le+(M?"."+C:"["+C+"]");te.set(n,ne);var H=t();H.set(g,te),v(ue,S(B,W,o,h,s,w,b,A,o==="comma"&&K&&E(I)?null:D,$,x,M,P,G,U,K,re,H))}}return ue},c=function(n){if(!n)return p;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var a=n.charset||p.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=l.default;if(typeof n.format<"u"){if(!u.call(l.formatters,n.format))throw new TypeError("Unknown format option provided.");o=n.format}var h=l.formatters[o],s=p.filter;(typeof n.filter=="function"||E(n.filter))&&(s=n.filter);var w;if(n.arrayFormat in d?w=n.arrayFormat:"indices"in n?w=n.indices?"indices":"repeat":w=p.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var b=typeof n.allowDots>"u"?n.encodeDotInKeys===!0?!0:p.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:p.addQueryPrefix,allowDots:b,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:w,charset:a,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?p.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:p.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:p.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:p.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:p.encodeValuesOnly,filter:s,format:o,formatter:h,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:p.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:p.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:p.strictNullHandling}};return br=function(S,n){var a=S,o=c(n),h,s;typeof o.filter=="function"?(s=o.filter,a=s("",a)):E(o.filter)&&(s=o.filter,h=s);var w=[];if(typeof a!="object"||a===null)return"";var b=d[o.arrayFormat],A=b==="comma"&&o.commaRoundTrip;h||(h=Object.keys(a)),o.sort&&h.sort(o.sort);for(var D=t(),$=0;$<h.length;++$){var x=h[$],M=a[x];o.skipNulls&&M===null||v(w,i(M,x,b,A,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,D))}var P=w.join(o.delimiter),G=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?G+="utf8=%26%2310003%3B&":G+="utf8=%E2%9C%93&"),P.length>0?G+P:""},br}var Ar,$t;function Rn(){if($t)return Ar;$t=1;var t=qt(),f=Object.prototype.hasOwnProperty,l=Array.isArray,u={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},d=function(g){return g.replace(/&#(\d+);/g,function(i,c){return String.fromCharCode(parseInt(c,10))})},E=function(g,i,c){if(g&&typeof g=="string"&&i.comma&&g.indexOf(",")>-1)return g.split(",");if(i.throwOnLimitExceeded&&c>=i.arrayLimit)throw new RangeError("Array limit exceeded. Only "+i.arrayLimit+" element"+(i.arrayLimit===1?"":"s")+" allowed in an array.");return g},R="utf8=%26%2310003%3B",v="utf8=%E2%9C%93",O=function(i,c){var S={__proto__:null},n=c.ignoreQueryPrefix?i.replace(/^\?/,""):i;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=c.parameterLimit===1/0?void 0:c.parameterLimit,o=n.split(c.delimiter,c.throwOnLimitExceeded?a+1:a);if(c.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var h=-1,s,w=c.charset;if(c.charsetSentinel)for(s=0;s<o.length;++s)o[s].indexOf("utf8=")===0&&(o[s]===v?w="utf-8":o[s]===R&&(w="iso-8859-1"),h=s,s=o.length);for(s=0;s<o.length;++s)if(s!==h){var b=o[s],A=b.indexOf("]="),D=A===-1?b.indexOf("="):A+1,$,x;D===-1?($=c.decoder(b,u.decoder,w,"key"),x=c.strictNullHandling?null:""):($=c.decoder(b.slice(0,D),u.decoder,w,"key"),x=t.maybeMap(E(b.slice(D+1),c,l(S[$])?S[$].length:0),function(P){return c.decoder(P,u.decoder,w,"value")})),x&&c.interpretNumericEntities&&w==="iso-8859-1"&&(x=d(String(x))),b.indexOf("[]=")>-1&&(x=l(x)?[x]:x);var M=f.call(S,$);M&&c.duplicates==="combine"?S[$]=t.combine(S[$],x):(!M||c.duplicates==="last")&&(S[$]=x)}return S},m=function(g,i,c,S){var n=0;if(g.length>0&&g[g.length-1]==="[]"){var a=g.slice(0,-1).join("");n=Array.isArray(i)&&i[a]?i[a].length:0}for(var o=S?i:E(i,c,n),h=g.length-1;h>=0;--h){var s,w=g[h];if(w==="[]"&&c.parseArrays)s=c.allowEmptyArrays&&(o===""||c.strictNullHandling&&o===null)?[]:t.combine([],o);else{s=c.plainObjects?{__proto__:null}:{};var b=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,A=c.decodeDotInKeys?b.replace(/%2E/g,"."):b,D=parseInt(A,10);!c.parseArrays&&A===""?s={0:o}:!isNaN(D)&&w!==A&&String(D)===A&&D>=0&&c.parseArrays&&D<=c.arrayLimit?(s=[],s[D]=o):A!=="__proto__"&&(s[A]=o)}o=s}return o},p=function(i,c,S,n){if(i){var a=S.allowDots?i.replace(/\.([^.[]+)/g,"[$1]"):i,o=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,s=S.depth>0&&o.exec(a),w=s?a.slice(0,s.index):a,b=[];if(w){if(!S.plainObjects&&f.call(Object.prototype,w)&&!S.allowPrototypes)return;b.push(w)}for(var A=0;S.depth>0&&(s=h.exec(a))!==null&&A<S.depth;){if(A+=1,!S.plainObjects&&f.call(Object.prototype,s[1].slice(1,-1))&&!S.allowPrototypes)return;b.push(s[1])}if(s){if(S.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+S.depth+" and strictDepth is true");b.push("["+a.slice(s.index)+"]")}return m(b,c,S,n)}},y=function(i){if(!i)return u;if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.decodeDotInKeys<"u"&&typeof i.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(i.decoder!==null&&typeof i.decoder<"u"&&typeof i.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof i.throwOnLimitExceeded<"u"&&typeof i.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var c=typeof i.charset>"u"?u.charset:i.charset,S=typeof i.duplicates>"u"?u.duplicates:i.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof i.allowDots>"u"?i.decodeDotInKeys===!0?!0:u.allowDots:!!i.allowDots;return{allowDots:n,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:u.allowEmptyArrays,allowPrototypes:typeof i.allowPrototypes=="boolean"?i.allowPrototypes:u.allowPrototypes,allowSparse:typeof i.allowSparse=="boolean"?i.allowSparse:u.allowSparse,arrayLimit:typeof i.arrayLimit=="number"?i.arrayLimit:u.arrayLimit,charset:c,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:u.charsetSentinel,comma:typeof i.comma=="boolean"?i.comma:u.comma,decodeDotInKeys:typeof i.decodeDotInKeys=="boolean"?i.decodeDotInKeys:u.decodeDotInKeys,decoder:typeof i.decoder=="function"?i.decoder:u.decoder,delimiter:typeof i.delimiter=="string"||t.isRegExp(i.delimiter)?i.delimiter:u.delimiter,depth:typeof i.depth=="number"||i.depth===!1?+i.depth:u.depth,duplicates:S,ignoreQueryPrefix:i.ignoreQueryPrefix===!0,interpretNumericEntities:typeof i.interpretNumericEntities=="boolean"?i.interpretNumericEntities:u.interpretNumericEntities,parameterLimit:typeof i.parameterLimit=="number"?i.parameterLimit:u.parameterLimit,parseArrays:i.parseArrays!==!1,plainObjects:typeof i.plainObjects=="boolean"?i.plainObjects:u.plainObjects,strictDepth:typeof i.strictDepth=="boolean"?!!i.strictDepth:u.strictDepth,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:u.strictNullHandling,throwOnLimitExceeded:typeof i.throwOnLimitExceeded=="boolean"?i.throwOnLimitExceeded:!1}};return Ar=function(g,i){var c=y(i);if(g===""||g===null||typeof g>"u")return c.plainObjects?{__proto__:null}:{};for(var S=typeof g=="string"?O(g,c):g,n=c.plainObjects?{__proto__:null}:{},a=Object.keys(S),o=0;o<a.length;++o){var h=a[o],s=p(h,S[h],c,typeof g=="string");n=t.merge(n,s,c)}return c.allowSparse===!0?n:t.compact(n)},Ar}var Er,Mt;function Dn(){if(Mt)return Er;Mt=1;var t=Pn(),f=Rn(),l=wr();return Er={formats:l,parse:f,stringify:t},Er}var xn=Dn();const _n=Qt(xn),In=L.defineComponent({name:"DrawIoEditor",props:{resource:{type:Object,required:!0},applicationConfig:{type:Object,required:!0,default:()=>{}},currentContent:{type:String,required:!0},isReadOnly:{type:Boolean,required:!0},isDirty:{type:Boolean,required:!0}},emits:["update:currentContent","save","close"],setup(t,{emit:f}){const{$gettext:l}=$r.useGettext(),u=L.ref(),d=L.computed(()=>{const{url:p="https://embed.diagrams.net",theme:y="minimal"}=t.applicationConfig;return{url:p,theme:y}}),E=L.computed(()=>{const p=new URL(L.unref(d).url),y=`${p.protocol}//${p.hostname}`;return p.port?`${y}:${p.port}`:y}),R=L.computed(()=>{const p=_n.stringify({embed:1,chrome:t.isReadOnly?0:1,picker:0,stealth:1,spin:1,proto:"json",ui:L.unref(d).theme});return`${L.unref(d).url}?${p}`}),v=()=>{O({action:"load",xml:t.currentContent,autosave:!0})};L.watch(()=>t.isDirty,()=>{O({action:"status",modified:t.isDirty})}),L.watch(()=>t.resource,()=>{v()});const O=p=>{try{return L.unref(u)?L.unref(u).contentWindow.postMessage(JSON.stringify(p),L.unref(E)):void 0}catch(y){console.error(y)}},m=async p=>{if(p.data.length>0){if(p.origin!==L.unref(d).url)return;await L.nextTick();const y=JSON.parse(p.data);switch(y?.event){case"init":v();break;case"autosave":f("update:currentContent",y.xml);break;case"save":f("save");break;case"exit":f("close");break}}};return L.onMounted(()=>{window.addEventListener("message",m)}),L.onBeforeUnmount(()=>{window.removeEventListener("message",m)}),{config:d,drawIoEditor:u,iframeSource:R,$gettext:l}}}),qn=(t,f)=>{const l=t.__vccOpts||t;for(const[u,d]of f)l[u]=d;return l},Fn=["src","title"];function $n(t,f,l,u,d,E){return L.openBlock(),L.createElementBlock("iframe",{id:"drawio-editor",ref:"drawIoEditor",src:t.iframeSource,title:t.$gettext("Draw.io editor")},null,8,Fn)}const Mn=qn(In,[["render",$n]]),Ct="draw-io";return Oe.defineWebApplication({setup(){const{$gettext:t}=$r.useGettext(),f=Oe.useUserStore(),{openEmptyEditor:l}=Oe.useOpenEmptyEditor(),u=[{name:"draw-io",path:"/:driveAliasAndItem(.*)?",component:Oe.AppWrapperRoute(Mn,{applicationId:Ct,importResourceWithExtension(R){return R.extension==="vsdx"?"drawio":null}}),meta:{authContext:"hybrid",patchCleanPath:!0}}],d={name:"Draw.io",id:Ct,icon:"grid",color:"#EF6C00",defaultExtension:"drawio",extensions:[{extension:"drawio",routeName:"draw-io",newFileMenu:{menuTitle(){return t("Draw.io document")}}},{extension:"vsdx",routeName:"draw-io"}]},E=L.computed(()=>{const R=[];return f.user&&R.push({id:`app.${d.id}.menuItem`,type:"appMenuItem",label:()=>d.name,color:d.color,icon:d.icon,priority:30,path:jt.urlJoin(d.id),handler:()=>l(d.id,d.defaultExtension)}),R});return{appInfo:d,routes:u,translations:Kt,extensions:E}}})});
